{"version":3,"sources":["modules/KanbanItem.js","index.js"],"names":["KanbanItem","id","content","status","todo","doing","done","kanbanItems","itemField","document","getElementById","selectedItem","initializeView","onclick","event","moveItem","preventDefault","push","getNextId","value","updateView","updateItemContent","initializeItems","item1","item2","console","log","firstChild","nextSibling","removeChild","forEach","item","visiblItem","createKanbanItem","appendChild","text","kanbanItem","createElement","className","textContent","remove","removeItem","target","parentNode","classList","contains","add","updateItemStatus","itemId","i","length","maxId","splice","targetId","window","onload"],"mappings":"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","file":"src.12d2b6de.map","sourceRoot":"../src","sourcesContent":["export class KanbanItem {\n    constructor(id, content, status) {\n        this.id = id;\n        this.content = content;\n        this.status = status;\n    }\n}","\nimport { KanbanItem } from './modules/KanbanItem';\n\n\"use strict\";\n\n\n\n//TODO: Korvaa tämä sekasotku järkevällä tietorakenteella (taulukolla), jossa kaikki itemit ovat. Luo kanbanitemille oma luokka. \n//Matki elmin model update view -rakennetta. \n\n\n//Model\n\nlet kanbanItems = [];\n\n\n//Update\n\n\n//View\n\nlet itemField = document.getElementById(\"itemfield\");\nlet selectedItem = null;\nlet todo;\nlet doing;\nlet done;\n\nwindow.onload = function () {\n    //Init\n    initializeView();\n    initializeItems();\n    updateView();\n}\n\n\nfunction initializeView() {\n\n    todo = document.getElementById(\"todo\", 1);\n\n    todo.onclick = function (event) {\n        moveItem(event);\n    }\n\n    doing = document.getElementById(\"doing\");\n    doing.onclick = function (event) {\n        moveItem(event);\n    }\n    done = document.getElementById(\"done\");\n    done.onclick = function (event) {\n        moveItem(event);\n    }\n\n    let addItemButton = document.getElementById(\"additem\");\n    addItemButton.onclick = function (event) {\n        event.preventDefault();\n\n        if (selectedItem === null) {\n            kanbanItems.push(new KanbanItem(getNextId(), itemField.value, 1));\n            updateView();\n        }\n        else {\n            updateItemContent(selectedItem.id, itemField.value)\n        }\n        itemField.value = \"\";\n        updateView();\n    }\n\n}\n\nfunction initializeItems() {\n\n    let item1 = new KanbanItem(1, \"Asdasdasdsas\", 1);\n    kanbanItems.push(item1);\n    let item2 = new KanbanItem(2, \"lollero\", 3);\n    kanbanItems.push(item2);\n\n}\n\nfunction updateView() {\n    console.log(\"Updating view\");\n\n    while (todo.firstChild.nextSibling) {\n        todo.removeChild(todo.firstChild.nextSibling);\n\n    }\n\n    while (doing.firstChild.nextSibling) {\n        doing.removeChild(doing.firstChild.nextSibling);\n    }\n\n    while (done.firstChild.nextSibling) {\n        done.removeChild(done.firstChild.nextSibling);\n    }\n\n\n\n    kanbanItems.forEach(function (item) {\n        let visiblItem = createKanbanItem(item.id, item.content);\n\n        switch (item.status) {\n            case 1:\n                todo.appendChild(visiblItem);\n                break;\n            case 2:\n                doing.appendChild(visiblItem);\n                break;\n            case 3:\n                done.appendChild(visiblItem);\n                break;\n        }\n    });\n}\n\n\n\nfunction createKanbanItem(id, text) {\n    let kanbanItem = document.createElement('div');\n    kanbanItem.className = \"kanban-item\";\n    kanbanItem.id = id;\n\n    let content = document.createElement(\"p\");\n    content.textContent = text;\n    kanbanItem.appendChild(content);\n\n    let remove = document.createElement(\"button\");\n    remove.textContent = \"Delete\";\n    kanbanItem.appendChild(remove);\n    remove.onclick = function (event) {\n        selectedItem = null;\n        itemField.value = \"\";\n        removeItem(event.target.parentNode.id);\n        updateView();\n    }\n\n\n    kanbanItem.onclick = function (event) {\n        if (event.target.classList.contains(\"kanban-item\")) {\n\n            if (selectedItem != null) {\n                selectedItem.classList.remove(\"kanban-item-selected\");\n            }\n\n            if (selectedItem !== event.target) {\n                selectedItem = event.target;\n                itemField.value = selectedItem.firstChild.textContent;\n                event.target.classList.add(\"kanban-item-selected\");\n            }\n            else {\n                selectedItem = null;\n                itemField.value = \"\";\n            }\n        }\n    }\n\n    return kanbanItem;\n}\n\n\n\nfunction moveItem(event) {\n    if (selectedItem !== null) {\n        if (event.target.id === \"todo\" || event.target.id === \"doing\" || event.target.id === \"done\") {\n            itemField.value = \"\";\n            updateItemStatus(selectedItem.id, event.target.id);\n            selectedItem = null;\n            updateView();\n        }\n    }\n}\n\nfunction updateItemContent(itemId, content) {\n    for (let i = 0; i < kanbanItems.length; i++) {\n        if (kanbanItems[i].id + \"\" === itemId) {\n            kanbanItems[i].content = content;\n        }\n    }\n}\n\nfunction getNextId() {\n    let maxId = 0;\n\n    for (let i = 0; i < kanbanItems.length; i++) {\n        if (kanbanItems[i].id > maxId) {\n            maxId = kanbanItems[i].id;\n        }\n    }\n    return maxId + 1;\n\n}\n\nfunction removeItem(itemId) {\n    for (let i = 0; i < kanbanItems.length; i++) {\n        if (kanbanItems[i].id + \"\" === itemId) {\n            kanbanItems.splice(i, 1);\n            break;\n        }\n    }\n}\n\n\nfunction updateItemStatus(itemId, targetId) {\n\n    for (let i = 0; i < kanbanItems.length; i++) {\n\n        console.log(kanbanItems[i].id);\n        console.log(itemId);\n\n\n        if (kanbanItems[i].id + \"\" === itemId) {\n            switch (targetId) {\n                case \"todo\":\n                    kanbanItems[i].status = 1;\n                    break;\n                case \"doing\":\n                    kanbanItems[i].status = 2;\n                    break;\n                case \"done\":\n                    kanbanItems[i].status = 3;\n                    break;\n                default:\n                    break;\n            }\n        }\n    }\n}"]}